(()=>{"use strict";(new class{constructor(){this.boardSize=4,this.boardEl=document.getElementById("board"),this.cells=[],this.interval=null,this.indexGoblin=null,this.pointsGoblin=0,this.pointsPlayer=0}init(){this.drawField(),document.querySelector(".btn").addEventListener("click",(t=>this.onNewGameClick(t)))}onNewGameClick(t){t.preventDefault(),this.newGame()}drawField(){for(let t=0;t<this.boardSize**2;t+=1){const t=document.createElement("div");t.classList.add("cell"),this.boardEl.append(t),this.cells.push(t)}}newGame(){this.boardEl.addEventListener("click",this.onCellClick.bind(this)),this.interval=null,this.pointsGoblin=0,this.pointsPlayer=0;const t=document.createElement("img");t.src="2dbd01ce16c0fa83cb67e20c73dedb66.png",t.classList.add("character"),this.interval=setInterval((()=>{var e;this.indexGoblin=(0,e=this.cells.length-1,Math.floor(Math.random()*(e-0+1))+0),this.cells[this.indexGoblin].append(t)}),1e3)}onCellClick(t){t.preventDefault();const e=document.getElementById("pointsPlayer"),i=document.getElementById("pointsGoblin"),{target:n}=t,l=n.closest(".cell");this.cells.indexOf(l)===this.indexGoblin?(this.pointsPlayer++,e.textContent=`Игрок - ${this.pointsPlayer}`):(this.pointsGoblin++,i.textContent=`Гоблин - ${this.pointsGoblin}`),5===this.pointsGoblin&&(e.textContent="",i.textContent="",this.gameOver())}gameOver(){this.boardEl.removeEventListener("click",this.onCellClick),setTimeout((()=>{clearInterval(this.interval),alert("Game over"),this.boardEl.innerHTML="",this.drawField()}),100)}}).init()})();